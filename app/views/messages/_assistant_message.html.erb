<div id="<%= dom_id(message) %>" class="flex items-start space-x-4">
  <%= lucide_icon "bot", class: "w-6 h-6 mt-1 flex-shrink-0 text-muted-foreground" %>
  <div class="flex-1 bg-muted rounded-lg p-4">
    <% if message.content.present? %>
        <% if defined?(markdown?) && markdown?(message.content) %>
          <%= markdown(message.content) %>
        <% else %>
          <p class="text-sm"><%= message.content %></p>
        <% end %>
      <% else %>
        <div class="assistant-typing">
          <span class="dot"></span>
          <span class="dot"></span>
          <span class="dot"></span>
        </div>
      <% end %>
  </div>
</div>
